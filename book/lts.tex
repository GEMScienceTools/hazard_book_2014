%
\index{Logic-tree}
The logic-tree is an integral component of a PSHA input model for the 
OpenQuake-engine.  

An Openuake-engine hazard input model always contains a logic tree structure 
which describes the epistemic uncertainties associated with the construction 
of the seismic source model and a logic-tree used to formally specify 
epistemic uncertainties related to \gls{acr:gsim} models to be used in 
different tectonic regions.

The definition of logic trees in the OpenQuake-engine is based on
the combination of a number of predefined modules each one modelling a specific
epistemic uncertainty. Two are the main advantages of this approach. The first
and most evident is that the user is not forced to use a predefined logic tree
structure and - instead - can create a specific logic tree which reflects the 
uncertainties they defined. The logic tree structure become an integral part of
the definition of a PSHA input model. The hazard calculations with this approach
become fully reproducible and do not require pre- or post-processing steps.

This Chapter is dedicated to the description of the basic theory behind 
logic-trees and to the delineation of how logic-trees are implemented 
into the OpenQuake-engine.
%
% ..............................................................................
\section{Introduction (meaning and interpretation)}
The use of logic-trees to account for epistemic uncertainties in a 
probabilistic seismic hazard analysis was originally proposed by 
\textcite{kulkarni84}.
%
Nowadays they are an essential component of a \gls{acr:psha} input
model and represent the formal methodology though which is possible to 
synthesize the results of the epistemic uncertainties elicitation process
requested in site-specific seismic hazard analyses \parencite{budnitz1997}
as well as state\--of\--the\--art national and regional \gls{acr:psha} 
input models. 
%
% ..............................................................................
\section{The OpenQuake-engine logic-tree structure}
%
The \gls{acr:oqe} provides with the user a flexible and modular methodology 
to create model specific logic-tree structures. Logic-trees are defined as a
set of linked modules which starting from the roots get to the uppermost 
branches.
%
% . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
\subsection{The seismic source model logic tree}
The seismic source model logic tree handles the epistemic uncertainties
related to the definition of geometry, position and seismicity occurrence 
properties of seismic sources. 

Logic-trees are a tool designed to consider in a systematic manner the 
epistemic uncertainties of models and parameters included in a hazard 
analysis.
% ..............................................................................
% . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . > Figure
\renewcommand{\psedge}{\ncdiag[armA=0,angleB=180,armB=1cm]}
\begin{figure}[!hb]
%\input{./pstricks/sslt_absolute.tex}
\caption{An example of branch set used to account for the epistemic 
uncertainties on faults dip angle; in this case each branch contains a value 
of the dip.}
\label{fig:logic_tree_branching_levels}
\end{figure}

%
\subsubsection{Supported epistemic uncertainties}

\begin{description}
\item [Source model] models the uncertainty on seismic source model e.g. models
with different geometries of sources covering the same region.
\item [maxMagGRRelative]
\item [bGRRelative] models relative uncertainty on the b-value of a
double-truncated Gutenberg-Richter relationship.
\item [abGRAbsolute]
\item [maxMagGRAbsolute]
\end{description}
%
% . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
\subsection{The ground-motion model logic tree}
%
\subsubsection{Supported epistemic uncertainties}
Currently the only epistemic uncertainty allowed for the \gls{acr:gsim}
logic-tree.
%
% ..............................................................................
\section{Logic tree processing}
The \gls{acr:oqe} currently provides two distinct ways to process logic-trees
%
\subsection{Full-path enumeration}
Full-path enumeration is the simplest logic-tree processing methodology
implemented. The use of this methodology is possible only when the logic tree
structure is relatively simple i.e. the number of end branches is small. 
%
\subsection{Monte Carlo sampling}
Monte Carlo sampling is the processing methodology 
%
\subsection{Logic tree pruning/collapsing}
\subsection{Calculation of mean and percentiles/quantiles}
